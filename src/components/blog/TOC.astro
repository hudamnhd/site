---
import { generateToc } from "@/utils/generateToc";
import type { MarkdownHeading } from "astro";
import TOCHeading from "./TOCHeading.astro";

interface Props {
	headings: MarkdownHeading[];
}

const { headings } = Astro.props;

const toc = generateToc(headings);
---

<details
  open
  class="group rounded-md border input"
>
  <summary
    class="cursor-pointer rounded-t-md px-3 py-1.5 font-medium transition-colors group-open:bg-muted hover:bg-muted"
    >Table of Contents</summary
  >
  <nav>
    <ul class="py-3">
      {toc.map((heading) => <TOCHeading heading={heading} />)}
    </ul>
  </nav>
</details>
